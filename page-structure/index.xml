<?xml version="1.0" encoding="UTF-8"?>
<!-- 
  {IoTBay Homepage Structure Documentation}
  {This XML file describes the structure and context of the index.jsp homepage}
  {Purpose: Provide AI systems with clear understanding of page layout, components, and refactoring context}
-->
<page name="index" type="homepage" jsp-file="index.jsp">
  
  <!-- {Page Metadata} -->
  <metadata>
    <title>IoTBay - IoT Device Marketplace</title>
    <description>Homepage for IoTBay e-commerce platform</description>
    <route>/</route>
    <template>t:base</template>
    <!-- {t:base is the base layout tag that provides header, footer, and main content wrapper} -->
  </metadata>

  <!-- {Page Structure - Top to Bottom} -->
  <structure>
    
    <!-- {Header Section - Reusable component included via JSP include} -->
    <section name="header" type="component" source="components/header.jsp">
      <!-- {Header contains: logo, navigation menu, search, user menu, cart icon} -->
      <components>
        <component name="logo" type="branding">
          <!-- {Logo links to homepage, contains IoTBay branding} -->
        </component>
        <component name="navigation" type="menu">
          <!-- {Main navigation: Home, Browse, Categories, About, Contact} -->
          <items>
            <item name="home" route="/" active="true"/>
            <item name="browse" route="/browse"/>
            <item name="categories" route="/categories"/>
            <item name="about" route="/about"/>
            <item name="contact" route="/contact"/>
          </items>
        </component>
        <component name="search" type="search-overlay">
          <!-- {Full-screen search overlay triggered by search icon} -->
        </component>
        <component name="user-menu" type="dropdown">
          <!-- {User menu: Profile, Orders, Logout (if logged in) or Login/Register (if not)} -->
        </component>
        <component name="cart" type="cart-icon">
          <!-- {Cart icon with item count badge, links to cart page} -->
        </component>
      </components>
    </section>

    <!-- {Hero Section - Main banner/CTA area} -->
    <section name="hero" type="masthead">
      <!-- {Hero section uses components/masthead.jsp with title, subtitle, and CTA buttons} -->
      <content>
        <title>Welcome to IoTBay</title>
        <!-- {Main headline introducing the platform} -->
        <subtitle>Your trusted marketplace for IoT devices and components</subtitle>
        <!-- {Supporting text explaining value proposition} -->
        <actions>
          <button type="primary" route="/browse" text="Browse Products"/>
          <!-- {Primary CTA: Browse products} -->
          <button type="secondary" route="/about" text="Learn More"/>
          <!-- {Secondary CTA: Learn about platform} -->
        </actions>
      </content>
    </section>

    <!-- {Category Navigation - Quick access to product categories} -->
    <section name="categories" type="category-grid">
      <!-- {Grid of category cards: Industrial, Warehouse, Agriculture, Smart Home} -->
      <categories>
        <category name="industrial" route="/category-industrial">
          <!-- {Industrial IoT devices category} -->
          <icon>industrial-icon</icon>
          <title>Industrial</title>
          <description>Industrial automation and monitoring solutions</description>
        </category>
        <category name="warehouse" route="/category-warehouse">
          <!-- {Warehouse management IoT devices} -->
          <icon>warehouse-icon</icon>
          <title>Warehouse</title>
          <description>Warehouse management and logistics IoT</description>
        </category>
        <category name="agriculture" route="/category-agriculture">
          <!-- {Agricultural IoT solutions} -->
          <icon>agriculture-icon</icon>
          <title>Agriculture</title>
          <description>Smart farming and agricultural monitoring</description>
        </category>
        <category name="smarthome" route="/category-smarthome">
          <!-- {Smart home IoT devices} -->
          <icon>smarthome-icon</icon>
          <title>Smart Home</title>
          <description>Home automation and smart living solutions</description>
        </category>
      </categories>
    </section>

    <!-- {Featured Products - Highlighted product showcase} -->
    <section name="featured-products" type="product-grid">
      <!-- {Grid of product cards showing featured/popular items} -->
      <layout>
        <grid columns="4" responsive="true">
          <!-- {4 columns on desktop, responsive on mobile/tablet} -->
        </grid>
      </layout>
      <products>
        <product-card>
          <!-- {Product card component: image, name, price, quick view, add to cart} -->
          <image source="/images/products/{productId}.png" alt="{productName}"/>
          <name>{productName}</name>
          <category>{categoryName}</category>
          <price currency="USD">{price}</price>
          <stock status="{inStock|lowStock|outOfStock}"/>
          <actions>
            <button type="quick-view" action="showProductModal"/>
            <button type="add-to-cart" action="addToCart"/>
          </actions>
        </product-card>
      </products>
    </section>

    <!-- {Footer Section - Reusable component} -->
    <section name="footer" type="component" source="components/footer.jsp">
      <!-- {Footer contains: links, contact info, newsletter, social media} -->
      <components>
        <component name="links" type="footer-nav">
          <!-- {Footer navigation: About, Contact, Privacy, Terms, Support} -->
        </component>
        <component name="contact" type="contact-info">
          <!-- {Contact information: email, phone, address} -->
        </component>
        <component name="newsletter" type="newsletter-form">
          <!-- {Newsletter subscription form} -->
        </component>
        <component name="social" type="social-links">
          <!-- {Social media links: Facebook, Twitter, LinkedIn} -->
        </component>
      </components>
    </section>

  </structure>

  <!-- {Design System Tokens Used} -->
  <design-tokens>
    <color primary="#0a95ff" secondary="#22c55e"/>
    <!-- {Primary: Blue for trust, Secondary: Green for success} -->
    <typography heading="Inter" body="Inter"/>
    <!-- {Typography: Inter font family for modern, clean look} -->
    <spacing container="max-width: 1280px" section="padding: 4rem 0"/>
    <!-- {Container max-width and section padding for consistent layout} -->
  </design-tokens>

  <!-- {Refactoring Context} -->
  <refactoring-context>
    <current-state>
      <!-- {Current implementation uses JSP with inline styles and mixed concerns} -->
      <issues>
        <issue>Inline styles should be replaced with design system classes</issue>
        <issue>Component structure could be more modular</issue>
        <issue>Accessibility improvements needed (ARIA labels, keyboard navigation)</issue>
      </issues>
    </current-state>
    <target-state>
      <!-- {Target: Clean component-based structure using design system tokens} -->
      <improvements>
        <improvement>Use t:base layout tag consistently</improvement>
        <improvement>Replace inline styles with utility classes</improvement>
        <improvement>Implement proper ARIA labels and roles</improvement>
        <improvement>Use design system components (btn, card, etc.)</improvement>
        <improvement>Optimize images with lazy loading</improvement>
      </improvements>
    </target-state>
    <related-pages>
      <!-- {Pages that share similar structure or components} -->
      <page name="browse" route="/browse"/>
      <page name="categories" route="/categories"/>
      <page name="about" route="/about"/>
    </related-pages>
  </refactoring-context>

  <!-- {Component Dependencies} -->
  <dependencies>
    <component name="header" file="components/header.jsp"/>
    <component name="footer" file="components/footer.jsp"/>
    <component name="masthead" file="components/masthead.jsp"/>
    <component name="product-card" file="components/product-card.jsp"/>
    <layout name="base" file="WEB-INF/tags/base.tag"/>
    <!-- {Base layout tag provides page structure wrapper} -->
  </dependencies>

</page>

